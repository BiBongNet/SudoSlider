/* Sudo Slider v. 3.0.0 ( http://webbies.dk/SudoSlider/ ), licenced under GPL and MIT license */
(function(k,ma){function X(b){var c={};k.each(b,function(b,e){c[b]=function(b,c){var n=b.diff;return e(b,b.options.vertical?0>n?1:3:0>n?2:4,c)};k.each(["Up","Right","Down","Left"],function(h,f){c[b+f]=function(b,c){e(b,h+1,c)}})});return c}function Y(b){var c={};k.each(b,function(b,l){c[b]=function(b){l(b,e)};c[b+"Reverse"]=function(b){l(b,f)}});return c}function C(b,c,e,f,h){var s=b.options,p=s.speed,j=s.boxrows,r=s.boxcols,t=Z(b,r,j),x=s=0,m=0,u=[];u[x]=[];c&&S(t);f&&(t=$(t));t.each(function(){u[x][m]=
this;m++;m==r&&(x++,m=0,u[x]=[])});c=[];if(h)for(h=0;h<2*r+1;h++){f=h;for(var B=[],Ba=0;Ba<j;Ba++){if(0<=f&&f<r){var Ga=u[Ba][f];if(!Ga)return;B.push(Ga)}f--}0!=B.length&&c.push(B)}else for(h=0;h<j;h++)for(f=0;f<r;f++)c.push([u[h][f]]);for(var F=0,j=0;j<c.length;j++){h=c[j];for(f=0;f<h.length;f++)(function(c,f){var h=c.width(),k=c.height();e&&c.width(0).height(0);F++;setTimeout(function(){c.animate({opacity:1,width:h,height:k},p,function(){F--;0==F&&(t.remove(),b.callback())})},f)})(k(h[f]),s);s+=
2*(p/c.length)}}function z(b,c,n,l,h,s,p){var j=b.options,r=j.slices,t=j.speed,x=j.ease,j=b.slider,m=Z(b,c?r:1,c?1:r),u=0,B=0;n?S(m):k(S(m.get())).appendTo(j);l&&(m=$(m));m.each(function(l){l*=t/r;var j=k(this),F=j.width(),I=j.height(),z=j.css("left"),C=j.css("top"),w=c?z:C,L=j.children()[c?"width":"height"]();1==s?w=0:2==s&&(w=L/2);n&&(w=L-w);c?j.css({width:h||p?F:0,left:w}):j.css({height:h||p?I:0,top:w});p&&(w=f,3==p?0==B?(w=e,B++):B=0:2==p&&(w=e),c?j.css({bottom:w?0:I,top:w?I:0,height:0}):j.css({right:w?
0:F,left:w?F:0,width:0}));u++;setTimeout(function(){j.animate({width:F,height:I,opacity:1,left:z,top:C},t,x,function(){u--;0==u&&(m.remove(),b.callback())})},l)})}function aa(b,c){var e=b.options;e.boxcols=1;e.boxrows=1;e.speed=c;C(b)}function Z(b,c,n){for(var l=b.slider,h=k("<div>").addClass(N),s,p,j,r,t=f,x=0;x<n;x++)for(var m=0;m<c;m++){var u=ba(b);t&&(t=e,s=u.width()/c,p=u.height()/n,j=Math.ceil(s),r=Math.ceil(p));var B;B=m==c-1?l.width()-s*m:j;u=na(u,p*x,s*m,r,B);l.append(u);h=h.add(u)}return h}
function na(b,c,e,f,h){b.css({width:b.width(),height:b.height(),display:"block",top:-c,left:-e});c=k("<div>").css({left:e,top:c,width:h,height:f,opacity:0,overflow:"hidden",position:ca,zIndex:da});c.append(b).addClass(N);return c}function ba(b){b=b.toSlides;var c=b.eq(0).position(),e=c.left,f=c.top,h=0,s=0,p=k("<div>").css({zIndex:da,position:ca,top:0,left:0}).addClass(N);b.each(function(){var b=k(this),c=b.outerWidth(!0),t=b.outerHeight(!0),x=b.clone(),m=b.position(),b=m.left-e,m=m.top-f;x.css({position:ca,
left:b,top:m,opacity:1});h=h>m+t?h:m+t;s=s>b+c?s:b+c;p.append(x)});p.width(s).height(h);return p}function S(b){return[].reverse.call(b)}function $(b){for(var c,e,f=b.length;f;c=parseInt(Math.random()*f),e=b[--f],b[f]=b[c],b[c]=e);return b}function ea(){for(var b={},c=arguments,e=0;e<c.length;e++){var f=c[e],h;for(h in f)b[h]=f[h]}return b}function Ha(b){var c,e=0,f;for(f in b)Math.random()<1/++e&&(c=f);return b[c]}var e=!1,f=!0,oa="pages",fa="next",pa="prev",Ka="last",La="first",ca="absolute",da=
1E4,ga=function(){},N="sudo-box";k.fn.sudoSlider=function(b){function c(b){var c={},e;for(e in b)c[e.toLowerCase()]=b[e];return c}var n=this;b=k.extend({effect:e,speed:800,customlink:e,controlsshow:f,controlsfadespeed:400,controlsfade:f,insertafter:f,vertical:e,slidecount:1,movecount:1,startslide:1,responsive:e,ease:"swing",auto:e,pause:2E3,resumepause:e,continuous:e,prevnext:f,numeric:e,numerictext:[],slices:15,boxcols:8,boxrows:4,initcallback:ga,ajaxload:ga,beforeanimation:ga,afteranimation:ga,
history:e,autoheight:f,autowidth:f,updatebefore:e,ajax:e,preloadajax:100,loadingtext:"",prevhtml:'<a href="#" class="prevBtn"> previous </a>',nexthtml:'<a href="#" class="nextBtn"> next </a>',controlsattr:'id="controls"',numericattr:'class="controls"'},c(b));return this.each(function(){function l(g){var b=0;for(key in T)d[b]=T[key],b++;O=f;y=H.children("ul");y.length||H.append(y=k("<ul></ul>"));A=y.children("li");v=A.length;if(d[31]&&d[31].length>v){for(b=1;b<=d[31].length-v;b++)y.append("<li>"+d[33]+
"</li>");A=y.children("li");v=A.length}q=0;qa=v-1;J=f;ra=[];ha=e;H.css({overflow:"hidden"});"static"==H.css("position")&&H.css({position:"relative"});A.css({"float":"left",listStyle:"none"});y.add(A).css({display:"block",position:"relative"});d[8]=parseInt(d[8],10);D=d[8];d[8]+=d[9]-1;d[10]=parseInt(d[10],10)||1;d[0]||(d[0]="slide");d[0]=s(d[0]);d[16]&&(E=[]);for(b=0;b<v;b++)d[19][b]=d[19][b]||b+1,d[31][b]=d[31][b]||e;K=[];for(var c=0;c<v;c++)K[c]=[],K[c].push(A.eq(c));if(E){for(c=d[8];1<=c&&0<v;c--){var Ia=
G(-d[8]+c-1),Ja=G(d[8]-c),h=A.eq(Ia).clone();E.push(h);var n=A.eq(Ja).clone();E.push(n);K[Ia].push(h);K[Ja].push(n);y.prepend(h).append(n)}M=y.children("li")}d[5]=d[5]&&!d[16];y[d[7]?"height":"width"](9E6);M=y.children("li");d[29]=d[29]&&!d[11];d[11]&&(k(ma).on("resize focus",p).resize(),setTimeout(p));P=e;if(d[3]){P=k("<span "+d[36]+"></span>");k(H)[d[6]?"after":"before"](P);if(d[18]){Z=P.prepend("<ol "+d[37]+"></ol>").children();c=d[18]==oa?D:1;for(b=0;b<v-(d[16]||d[18]==oa?1:D)+1;b+=c)ra[b]=k("<li rel='"+
(b+1)+"'><a href='#'><span>"+d[19][b]+"</span></a></li>").appendTo(Z).click(function(){u(k(this).attr("rel")-1,f);return e})}d[17]&&($=m(d[35],fa),aa=m(d[34],pa))}c=[4,1,14];for(b in c)d[parseInt(c[b],10)]=parseInt(d[c[b]],10)||0==d[c[b]]?parseInt(d[c[b]],10):"fast"==d[c[b]]?200:"normal"==d[c[b]]||"medium"==d[c[b]]?400:"slow"==d[c[b]]?600:400;if(d[2])k(document).on("click",d[2],function(){var g;if(g=k(this).attr("rel"))"stop"==g?(d[13]=e,x()):"start"==g?(U=t(d[14]),d[13]=f):"block"==g?J=e:"unblock"==
g?J=f:u(g==parseInt(g,10)?g-1:g,f);return e});F(M.slice(0,d[8]),f,function(){d[13]&&(U=t(d[14]));if(g)sa(g,e);else if(d[27]){var b=k(ma),c;if(c=b.hashchange)c(j);else if(c=k.address)c.change(j);else b.on("hashchange",j);j()}else sa(d[10]-1,e);z(q)});d[31][0]&&ta(0,e,0);if(d[32]===f)for(c=0;c<=qa;c++)d[31][c]&&d[10]-1!=c&&ta(c,e,0)}function h(g){return function(b){var c=Ha(g);return s(c)(b)}}function s(g){return k.isArray(g)?h(g):k.isFunction(g)?g:-1!=g.indexOf(",")?(g=g.split(","),h(g)):c(k.fn.sudoSlider.effects)[g.toLowerCase()]}
function p(){var g=M.width(),b=H.width()/D;M.width(b);g!=b&&(Ca(),I(q,0),w())}function j(){var g;a:{g=location.hash.substr(1);for(i in d[19])if(d[19][i]==g){g=i;break a}g=g?q:0}O?sa(g,e):u(g,e)}function r(){var g=parseInt(d[32],10);if(d[31]&&g)for(a in d[31])if(d[31][a]){clearTimeout(ua);ua=setTimeout(function(){d[31][a]?ta(a,e,0):r()},g);break}}function t(g){va=f;return setTimeout(function(){va&&u(fa,e)},g)}function x(g){clearTimeout(U);g||(va=e)}function m(g,b){return k(g).prependTo(P).click(function(){u(b,
f);return e})}function u(g,b){J?(x(f),wa=e,ha||Y(g,b,e)):(xa=g,la=b)}function B(g,b,c){if(c){c=$;var e=fa}else c=aa,e=pa;d[3]&&d[17]&&(g?c.stop().fadeIn(b):c.stop().fadeOut(b));d[2]&&(c="[rel='"+e+"']",g?k(d[2]).filter(c).stop().fadeIn(b):k(d[2]).filter(c).stop().fadeOut(b))}function z(g){g=G(g)+1;d[18]==oa&&(g==v-D+1&&!d[16])&&(g=v);if(d[18])for(a in ra)C(ra[a],g);d[2]&&C(k(d[2]),g)}function C(g,b){g.filter&&(g.filter(".current").removeClass("current"),g.filter(function(){var g=k(this).attr("rel");
if(d[18]==oa)for(var c=D-1;0<=c;c--){if(g==b-c)return f}else return g==b;return e}).addClass("current"))}function F(g,b,c){g=g.add(g.find("img")).filter("img");var d=g.length;if(!d)return c(),this;g.each(function(){var g=this;k(g).on("load error",function(){k(g).off("load error");g.naturalHeight&&!g.clientHeight&&k(g).height(g.naturalHeight).width(g.naturalWidth);b?(d--,0==d&&c()):c()});if("complete"==g.readyState)k(g).trigger("load");else if(g.readyState)g.src=g.src;else if(g.complete)k(g).trigger("load");
else if(void 0===g.complete){var e=g.src;g.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";g.src=e}})}function I(g,b){ea=g=G(g);Da=new Date-0+b;da=0==b?g:e;d[28]&&N(g,f);d[29]&&N(g,e)}function N(g,b){H.ready(function(){S(g,b);F(A.eq(g),e,function(){S(g,b)})})}function S(g,b){if(g==ea){for(var c=0,h=g;h<g+D;h++)var n=A.eq(G(h))["outer"+(b?"Height":"Width")](f),c=b==d[7]?c+n:n>c?n:c;h=Da-(new Date-0);h=0<h?h:0;c=b?{height:c}:{width:c};0==h?H.stop().css(c):H.animate(c,{queue:e,
duration:h,easing:d[12]})}}function w(){y.css({marginLeft:0,marginTop:0});var g=L(q,e),b=L(q,f);y.css({marginLeft:g,marginTop:b})}function L(g,b){g=M.eq(g+(E?d[8]:0));return g.length?-g.position()[b?"top":"left"]:0}function ia(g,b,c){g=G(g);var d=ya(g),e=function(){(b?ba:ca)(d,g+1)};c?e():setTimeout(e,0)}function ba(g,b){d[26].call(g,b)}function ca(b,c){d[25].call(b,c)}function ya(b){var c=k();for(a in K[b])c=c.add(K[b][a]);return c}function W(b){return b==fa?R(q+d[9],b):b==pa?R(q-d[9],b):b==La?0:
b==Ka?qa:R(parseInt(b,10),b)}function R(b,c){if(d[16])return G(b);var e=v-D;return b>e?q==e&&c==fa?0:e:0>b?0==q&&c==pa?e:0:b}function ta(b,c,h,n){ua&&clearTimeout(ua);var j=d[31][b],s=A.eq(b),q=e;k.ajax({url:j,success:function(d,k,j){k=function(){"i"!=j.getResponseHeader("Content-Type").substr(0,1)&&(q=f,s.html(d),X(b,h,n,c,e))};ja?Ea.push(k):k()},complete:function(){q||(image=new Image,s.html("").append(image),image.src=j,X(b,h,n,c,f))}});d[31][b]=e;T.ajax[b]=e}function X(b,c,h,k,j){var s=A.eq(b),
q=s;if(E){var l=e;for(a in K[b])l&&(l=s.clone(),E.push(l),K[b][a].replaceWith(l),K[b][a]=l,q=q.add(l)),l=f;M=y.children("li")}(k||da==b)&&I(b,c);w();F(s,f,function(){w();h&&h();r();d[24].call(q,parseInt(b,10)+1,j);O&&(O=e,setTimeout(function(){d[23].call(n)},0))});2==h&&(ia(b,e),wa||(ia(b,f),wa=f))}function Y(b,c,h){var j=W(b);if(j!=q){d[30]&&z(j);if(d[5]){var l=d[4];B(j,l,e);B(j<v-D,l,f)}if(h)speed=na,V&&V--;else if(d[31]){V=0;for(l=j;l<j+D;l++)d[31][l]&&(ta(G(l),e,d[1],function(){Y(b,c,f)}),V++)}else V=
e;if(!V){J=e;h=k();for(var p=k(),l=0;l<D;l++)E?(h=h.add(M.eq(q+l+(E?d[8]:0))),p=p.add(M.eq(j+l+(E?d[8]:0)))):(h=h.add(ya(G(q+l))),p=p.add(ya(G(j+l))));l=-(q-j);if(d[16]){var r=0>l?-l:l;b=j;var m=-(q-j-v);if(j<d[8]-D+1&&(0>m?-m:m)<r)b=j+v,l=m,r=0>l?-l:l;m=-(q-j+v);if(j>qa-d[8]&&(0>m?-m:m)<r)b=j-v,l=m}else b=W(b);var r=L(b,e),m=L(b,f),t=A.eq(j),u=k.extend(f,{},T),w=t.attr("data-speed");void 0!=w&&(u.speed=w);var x=d[0];(t=t.attr("data-effect"))&&(x=s(t));ja=f;ka=x;Fa=function(){ja=e;sa(j,c);screen.fontSmoothingEnabled&&
p.style&&p.style.removeAttribute("filter");for(ia(j,f);Ea.length;)Ea.pop()();y.callback=ga};var y={fromSlides:h,toSlides:p,slider:H,options:u,to:j+1,from:q+1,diff:l,target:{left:r,top:m},callback:Fa};I(j,d[1]);setTimeout(function(){ia(j,e,f);x.call(n,y)},0)}}}function Ca(){if(ja){var b=ka.stop;b&&(b(),Fa())}}function sa(b,c){J=!c&&!d[13];q=b;y.css({marginTop:L(q,f),marginLeft:L(q,e)});I(q,0);q=G(q);d[30]||z(q);w();J=f;d[27]&&c&&(ma.location.hash=d[19][q]);d[13]&&(c?(x(),d[15]&&(U=t(d[15]))):U=t(d[14]));
wa&&ia(q,f);if(xa!==e){var h=xa;xa=e;u(h,la)}if(d[5]){var j=d[4];O&&(j=0);h=q;B(h,j,e);B(h<v-D,j,f)}O&&!d[31][q]&&(O=e,setTimeout(function(){d[23].call(n)},0))}function G(b){if(0==v)return 0;for(b=parseInt(b,10);0>b;)b+=v;return b%v}function za(){Ca();ha=f;Q=q;d[11]&&k(ma).off("resize focus",p);P&&P.remove();k(d[2]).off("click");if(E)for(var b=0;b<E.length;b++)E[b].remove();w()}function Aa(){ha&&l(Q)}var O,y,A,M,v,q,qa,J,ra,Z,ha,Q,P,$,aa,U,na,V,va,E=e,D,wa=e,ua,K,H=k(this),da=e,ea,Da=0,ja=e,ka,Fa,
Ea=[],xa=e,la,T=b,d=[];n.destroy=za;n.init=Aa;n.getOption=function(b){return T[b.toLowerCase()]};n.setOption=function(b,c){za();T[b.toLowerCase()]=c;Aa()};n.insertSlide=function(b,c,e,f){za();c>v&&(c=v);b="<li>"+b+"</li>";!c||0==c?y.prepend(b):A.eq(c-1).after(b);f?Q=f-1:(c<=Q||!c||0==c)&&Q++;d[19].length<c&&(d[19].length=c);d[19].splice(c,0,e||parseInt(c,10)+1);Aa()};n.removeSlide=function(b){b--;za();A.eq(b).remove();d[19].splice(b,1);b<Q&&Q--;Aa()};n.goToSlide=function(b){u(b==parseInt(b,10)?b-
1:b,f)};n.block=function(){J=e};n.unblock=function(){J=f};n.startAuto=function(){d[13]=f;U=t(d[14])};n.stopAuto=function(){d[13]=e;x()};n.adjust=function(){I(q,Da-(new Date-0));ja||w()};n.getValue=function(b){b=b.toLowerCase();return"currentslide"==b?q+1:"totalslides"==b?v:"clickable"==b?J:"destroyed"==b?ha:"autoAnimation"==b?va:void 0};n.getSlide=function(b){b=G(parseInt(b,10)-1);return ya(b)};n.stopAnimation=Ca;l()})};var W=Y({boxes:function(b,c){C(b,c,e,e)},boxesGrow:function(b,c){C(b,c,f,e)},
boxRain:function(b,c){C(b,c,e,e,f)},boxRainGrow:function(b,c){C(b,c,f,e,f)},sliceUpDown:function(b,c){z(b,f,c,e,e,0,3)}}),R=X({push:function(b,c){var e=2==c||4==c,f=2==c||3==c?-1:1,h=b.options,k=h.ease,p=b.fromSlides,j=ba(b);j.prependTo(b.slider);var r;r=j.height();var t=p.height();r=r>t?r:t;t=j.width();p=p.width();h=h.speed;j.css(e?{left:f*(t>p?t:p)}:{top:f*r}).animate({left:0,top:0},h,k,function(){j.remove();b.callback()})},unCover:function(b,c){var e=1==c||3==c,f=b.options,h=f.ease,f=f.speed,k=
ba(b),p=k.width(),j=k.height(),r=na(k,0,0,0,0).css({opacity:1}).appendTo(b.slider);e?(r.css({width:p}),1==c&&(k.css({top:-j}),r.css({bottom:0,top:"auto"}))):(r.css({height:j}),4==c&&(k.css({left:-p}),r.css({right:0,left:"auto"})));k.animate({left:0,top:0},f,h);r.animate({width:p,height:j},f,h,function(){r.remove();b.callback()})},slicesRandom:function(b,c){z(b,1==c||3==c,e,f,e,0,1==c||4==c?1:2)},fold:function(b,c){z(b,2==c||4==c,1==c||4==c)},blinds1:function(b,c){z(b,2==c||4==c,1==c||4==c,e,e,1)},
blinds2:function(b,c){z(b,2==c||4==c,1==c||4==c,e,e,2)},slicesFade:function(b,c){z(b,2==c||4==c,1==c||4==c,e,f)}}),Ma=Y(X({slice:function(b,c,f){z(b,1==c||3==c,f,e,e,0,1==c||4==c?1:2)}})),ka=ea({slide:function(b){var c=b.slider.children("ul"),f=b.options,k=f.ease,f=f.speed*Math.sqrt(0>b.diff?-b.diff:b.diff),h=b.target;c.animate({marginTop:h.top,marginLeft:h.left},{queue:e,duration:f,easing:k,complete:b.callback})},fade:function(b){aa(b,b.options.speed)},fadeOutIn:function(b){var c=b.options,f=c.speed,
c=c.ease,k=parseInt(0.6*f,10),h=b.callback;b.callback=function(){b.fromSlides.animate({opacity:1},0);h()};b.fromSlides.animate({opacity:1E-4},{queue:e,duration:f-k,easing:c,complete:function(){aa(b,f)}})},foldRandomVertical:function(b){z(b,f,e,f)},foldRandomHorizontal:function(b){z(b,e,e,f)},boxRandom:function(b){C(b,e,e,f)},boxRandomGrow:function(b){C(b,e,f,f)}},R,W,Ma),W=k.fn.sudoSlider,R=ea(ka,{random:function(b){return Ha(ka)(b)}}),la={};k.each(R,function(b,c){var e,f=function(b){e=b;c(b)};f.stop=
function(){var b=e.slider;k("."+N,b).remove();b.children("ul").stop()};la[b]=f});W.effects=la})(jQuery,window);