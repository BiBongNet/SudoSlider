/* Sudo Slider v. 3.0.0 ( http://webbies.dk/SudoSlider/ ), licenced under GPL and MIT license */
(function(j,ma){function Y(b){var c={};j.each(b,function(b,d){c[b]=function(b,c){var m=b.diff;return d(b,b.options.vertical?0>m?1:3:0>m?2:4,c)};j.each(["Up","Right","Down","Left"],function(f,j){c[b+j]=function(b,c){d(b,f+1,c)}})});return c}function Z(b){var c={};j.each(b,function(b,x){c[b]=function(b){x(b,d)};c[b+"Reverse"]=function(b){x(b,f)}});return c}function C(b,c,d,f,g){var r=b.options,k=r.speed,h=r.boxrows,q=r.boxcols,s=$(b,q,h),w=r=0,n=0,t=[];t[w]=[];c&&aa(s);f&&(s=ba(s));s.each(function(){t[w][n]=
this;n++;n==q&&(w++,n=0,t[w]=[])});c=[];if(g)for(g=0;g<2*q+1;g++){f=g;for(var B=[],Ba=0;Ba<h;Ba++){if(0<=f&&f<q){var Ga=t[Ba][f];if(!Ga)return;B.push(Ga)}f--}0!=B.length&&c.push(B)}else for(g=0;g<h;g++)for(f=0;f<q;f++)c.push([t[g][f]]);for(var F=0,h=0;h<c.length;h++){g=c[h];for(f=0;f<g.length;f++)(function(c,f){var g=c.width(),j=c.height();d&&c.width(0).height(0);F++;setTimeout(function(){c.animate({opacity:1,width:g,height:j},k,function(){F--;0==F&&(s.remove(),b.callback())})},f)})(j(g[f]),r);r+=
2*(k/c.length)}}function z(b,c,m,x,g,r,k){var h=b.options,q=h.slices,s=h.speed,w=h.ease,h=b.slider,n=$(b,c?q:1,c?1:q),t=0,B=0;m?aa(n):j(aa(n.get())).appendTo(h);x&&(n=ba(n));n.each(function(x){x*=s/q;var h=j(this),F=h.width(),H=h.height(),z=h.css("left"),C=h.css("top"),v=c?z:C,L=h.children()[c?"width":"height"]();1==r?v=0:2==r&&(v=L/2);m&&(v=L-v);c?h.css({width:g||k?F:0,left:v}):h.css({height:g||k?H:0,top:v});k&&(v=f,3==k?0==B?(v=d,B++):B=0:2==k&&(v=d),c?h.css({bottom:v?0:H,top:v?H:0,height:0}):h.css({right:v?
0:F,left:v?F:0,width:0}));t++;setTimeout(function(){h.animate({width:F,height:H,opacity:1,left:z,top:C},s,w,function(){t--;0==t&&(n.remove(),b.callback())})},x)})}function na(b,c){var d=b.options;d.boxcols=1;d.boxrows=1;d.speed=c;C(b)}function $(b,c,m){for(var x=b.slider,g=j("<div>").addClass(O),r,k,h,q,s=f,w=0;w<m;w++)for(var n=0;n<c;n++){var t=ca(b);s&&(s=d,r=t.width()/c,k=t.height()/m,h=Math.ceil(r),q=Math.ceil(k));var B;B=n==c-1?x.width()-r*n:h;t=da(t,k*w,r*n,q,B);x.append(t);g=g.add(t)}return g}
function da(b,c,d,f,g){b.css({width:b.width(),height:b.height(),display:"block",top:-c,left:-d});c=j("<div>").css({left:d,top:c,width:g,height:f,opacity:0,overflow:"hidden",position:T,zIndex:ea});c.append(b).addClass(O);return c}function ca(b){b=b.toSlides;var c=b.eq(0).position(),d=c.left,f=c.top,g=0,r=0,k=j("<div>").css({zIndex:ea,position:T,top:0,left:0}).addClass(O);b.each(function(){var b=j(this),c=b.outerWidth(!0),s=b.outerHeight(!0),w=b.clone(),n=b.position(),b=n.left-d,n=n.top-f;w.css({position:T,
left:b,top:n,opacity:1});g=g>n+s?g:n+s;r=r>b+c?r:b+c;k.append(w)});k.width(r).height(g);return k}function aa(b){return[].reverse.call(b)}function ba(b){for(var c,d,f=b.length;f;c=parseInt(Math.random()*f),d=b[--f],b[f]=b[c],b[c]=d);return b}function fa(){for(var b={},c=arguments,d=0;d<c.length;d++){var f=c[d],g;for(g in f)b[g]=f[g]}return b}function Ha(b){var c,d=0,f;for(f in b)Math.random()<1/++d&&(c=f);return b[c]}var d=!1,f=!0,oa="pages",ga="next",pa="prev",Ka="last",La="first",T="absolute",ea=
1E4,ha=function(){},O="sudo-box";j.fn.sudoSlider=function(b){function c(b){var c={},d;for(d in b)c[d.toLowerCase()]=b[d];return c}var m=this;b=j.extend({effect:d,speed:800,customlink:d,controlsshow:f,controlsfadespeed:400,controlsfade:f,insertafter:f,vertical:d,slidecount:1,movecount:1,startslide:1,responsive:d,ease:"swing",auto:d,pause:2E3,resumepause:d,continuous:d,prevnext:f,numeric:d,numerictext:[],slices:15,boxcols:8,boxrows:4,initcallback:ha,ajaxload:ha,beforeanimation:ha,afteranimation:ha,
history:d,autoheight:f,autowidth:f,updatebefore:d,ajax:d,preloadajax:100,loadingtext:"",prevhtml:'<a href="#" class="prevBtn"> previous </a>',nexthtml:'<a href="#" class="nextBtn"> next </a>',controlsattr:'id="controls"',numericattr:'class="controls"'},c(b));return this.each(function(){function x(l){var b=0;for(key in U)e[b]=U[key],b++;P=f;y=I.children("ul");y.length||I.append(y=j("<ul></ul>"));A=y.children("li");u=A.length;if(e[31]&&e[31].length>u){for(b=1;b<=e[31].length-u;b++)y.append("<li>"+e[33]+
"</li>");A=y.children("li");u=A.length}p=0;qa=u-1;J=f;ra=[];ia=d;I.css({overflow:"hidden"});"static"==I.css("position")&&I.css({position:"relative"});A.css({"float":"left",listStyle:"none"});y.add(A).css({display:"block",position:"relative"});e[8]=parseInt(e[8],10);D=e[8];e[8]+=e[9]-1;e[10]=parseInt(e[10],10)||1;e[0]||(e[0]="slide");e[0]=r(e[0]);e[16]&&(E=[]);for(b=0;b<u;b++)e[19][b]=e[19][b]||b+1,e[31][b]=e[31][b]||d;K=[];for(var c=0;c<u;c++)K[c]=[],K[c].push(A.eq(c));if(E){for(c=e[8];1<=c&&0<u;c--){var Ia=
G(-e[8]+c-1),Ja=G(e[8]-c),m=A.eq(Ia).clone();E.push(m);var g=A.eq(Ja).clone();E.push(g);K[Ia].push(m);K[Ja].push(g);y.prepend(m).append(g)}M=y.children("li")}e[5]=e[5]&&!e[16];y[e[7]?"height":"width"](9E6);M=y.children("li");e[29]=e[29]&&!e[11];e[11]&&(j(ma).on("resize focus",k).resize(),setTimeout(k));Q=d;if(e[3]){Q=j("<span "+e[36]+"></span>");j(I)[e[6]?"after":"before"](Q);if(e[18]){Z=Q.prepend("<ol "+e[37]+"></ol>").children();c=e[18]==oa?D:1;for(b=0;b<u-(e[16]||e[18]==oa?1:D)+1;b+=c)ra[b]=j("<li rel='"+
(b+1)+"'><a href='#'><span>"+e[19][b]+"</span></a></li>").appendTo(Z).click(function(){t(j(this).attr("rel")-1,f);return d})}e[17]&&($=n(e[35],ga),ba=n(e[34],pa))}c=[4,1,14];for(b in c)e[parseInt(c[b],10)]=parseInt(e[c[b]],10)||0==e[c[b]]?parseInt(e[c[b]],10):"fast"==e[c[b]]?200:"normal"==e[c[b]]||"medium"==e[c[b]]?400:"slow"==e[c[b]]?600:400;if(e[2])j(document).on("click",e[2],function(){var l;if(l=j(this).attr("rel"))"stop"==l?(e[13]=d,w()):"start"==l?(V=s(e[14]),e[13]=f):"block"==l?J=d:"unblock"==
l?J=f:t(l==parseInt(l,10)?l-1:l,f);return d});F(M.slice(0,e[8]),f,function(){e[13]&&(V=s(e[14]));if(l)sa(l,d);else if(e[27]){var b=j(ma),c;if(c=b.hashchange)c(h);else if(c=j.address)c.change(h);else b.on("hashchange",h);h()}else sa(e[10]-1,d);z(p)});e[31][0]&&ta(0,d,0);if(e[32]===f)for(c=0;c<=qa;c++)e[31][c]&&e[10]-1!=c&&ta(c,d,0)}function g(l){return function(b){var c=Ha(l);return r(c)(b)}}function r(l){return j.isArray(l)?g(l):j.isFunction(l)?l:-1!=l.indexOf(",")?(l=l.split(","),g(l)):c(j.fn.sudoSlider.effects)[l.toLowerCase()]}
function k(){var l=M.width(),b=I.width()/D;M.width(b);l!=b&&(Ca(),H(p,0),v())}function h(){var l;a:{l=location.hash.substr(1);for(i in e[19])if(e[19][i]==l){l=i;break a}l=l?p:0}P?sa(l,d):t(l,d)}function q(){var l=parseInt(e[32],10);if(e[31]&&l)for(a in e[31])if(e[31][a]){clearTimeout(ua);ua=setTimeout(function(){e[31][a]?ta(a,d,0):q()},l);break}}function s(l){va=f;return setTimeout(function(){va&&t(ga,d)},l)}function w(l){clearTimeout(V);l||(va=d)}function n(l,b){return j(l).prependTo(Q).click(function(){t(b,
f);return d})}function t(l,b){J?(w(f),wa=d,ia||Y(l,b,d)):(xa=l,la=b)}function B(l,b,c){if(c){c=$;var d=ga}else c=ba,d=pa;e[3]&&e[17]&&(l?c.stop().fadeIn(b):c.stop().fadeOut(b));e[2]&&(c="[rel='"+d+"']",l?j(e[2]).filter(c).stop().fadeIn(b):j(e[2]).filter(c).stop().fadeOut(b))}function z(b){b=G(b)+1;e[18]==oa&&(b==u-D+1&&!e[16])&&(b=u);if(e[18])for(a in ra)C(ra[a],b);e[2]&&C(j(e[2]),b)}function C(b,c){b.filter&&(b.filter(".current").removeClass("current"),b.filter(function(){var b=j(this).attr("rel");
if(e[18]==oa)for(var l=D-1;0<=l;l--){if(b==c-l)return f}else return b==c;return d}).addClass("current"))}function F(b,c,e){b=b.add(b.find("img")).filter("img");var d=b.length;if(!d)return e(),this;b.each(function(){var b=this;j(b).on("load error",function(){j(b).off("load error");b.naturalHeight&&!b.clientHeight&&j(b).height(b.naturalHeight).width(b.naturalWidth);c?(d--,0==d&&e()):e()});if("complete"==b.readyState)j(b).trigger("load");else if(b.readyState)b.src=b.src;else if(b.complete)j(b).trigger("load");
else if(void 0===b.complete){var l=b.src;b.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";b.src=l}})}function H(b,c){ea=b=G(b);Da=new Date-0+c;da=0==c?b:d;e[28]&&N(b,f);e[29]&&N(b,d)}function N(b,c){I.ready(function(){O(b,c);F(A.eq(b),d,function(){O(b,c)})})}function O(b,c){if(b==ea){for(var m=0,g=b;g<b+D;g++)var j=A.eq(G(g))["outer"+(c?"Height":"Width")](f),m=c==e[7]?m+j:j>m?j:m;g=Da-(new Date-0);I.animate(c?{height:m}:{width:m},{queue:d,duration:0<g?g:0,easing:e[12]})}}
function v(){y.css({marginLeft:0,marginTop:0});var b=L(p,d),c=L(p,f);y.css({marginLeft:b,marginTop:c})}function L(b,c){b=M.eq(b+(E?e[8]:0));return b.length?-b.position()[c?"top":"left"]:0}function ja(b,c,e){b=G(b);var d=ya(b),f=function(){(c?aa:ca)(d,b+1)};e?f():setTimeout(f,0)}function aa(b,c){e[26].call(b,c)}function ca(b,c){e[25].call(b,c)}function ya(b){var c=j();for(a in K[b])c=c.add(K[b][a]);return c}function T(b){return b==ga?S(p+e[9],b):b==pa?S(p-e[9],b):b==La?0:b==Ka?qa:S(parseInt(b,10),
b)}function S(b,c){if(e[16])return G(b);var d=u-D;return b>d?p==d&&c==ga?0:d:0>b?0==p&&c==pa?d:0:b}function ta(b,c,m,g){ua&&clearTimeout(ua);var h=e[31][b],r=A.eq(b),p=d;j.ajax({url:h,success:function(e,j,h){j=function(){"i"!=h.getResponseHeader("Content-Type").substr(0,1)&&(p=f,r.html(e),X(b,m,g,c,d))};ka?Ea.push(j):j()},complete:function(){p||(image=new Image,r.html("").append(image),image.src=h,X(b,m,g,c,f))}});e[31][b]=d;U.ajax[b]=d}function X(b,c,g,j,h){var r=A.eq(b),p=r;if(E){var k=d;for(a in K[b])k&&
(k=r.clone(),E.push(k),K[b][a].replaceWith(k),K[b][a]=k,p=p.add(k)),k=f;M=y.children("li")}(j||da==b)&&H(b,c);v();F(r,f,function(){v();g&&g();q();e[24].call(p,parseInt(b,10)+1,h);P&&(P=d,setTimeout(function(){e[23].call(m)},0))});2==g&&(ja(b,d),wa||(ja(b,f),wa=f))}function Y(b,c,g){var h=T(b);if(h!=p){e[30]&&z(h);if(e[5]){var k=e[4];B(h,k,d);B(h<u-D,k,f)}if(g)speed=na,W&&W--;else if(e[31]){W=0;for(k=h;k<h+D;k++)e[31][k]&&(ta(G(k),d,e[1],function(){Y(b,c,f)}),W++)}else W=d;if(!W){J=d;g=j();for(var q=
j(),k=0;k<D;k++)E?(g=g.add(M.eq(p+k+(E?e[8]:0))),q=q.add(M.eq(h+k+(E?e[8]:0)))):(g=g.add(ya(G(p+k))),q=q.add(ya(G(h+k))));k=-(p-h);if(e[16]){var x=0>k?-k:k;b=h;var n=-(p-h-u);if(h<e[8]-D+1&&(0>n?-n:n)<x)b=h+u,k=n,x=0>k?-k:k;n=-(p-h+u);if(h>qa-e[8]&&(0>n?-n:n)<x)b=h-u,k=n}else b=T(b);var x=L(b,d),n=L(b,f),s=A.eq(h),t=j.extend(f,{},U),v=s.attr("data-speed");void 0!=v&&(t.speed=v);var w=e[0];(s=s.attr("data-effect"))&&(w=r(s));ka=f;fa=w;Fa=function(){ka=d;sa(h,c);screen.fontSmoothingEnabled&&q.style&&
q.style.removeAttribute("filter");for(ja(h,f);Ea.length;)Ea.pop()();y.callback=ha};var y={fromSlides:g,toSlides:q,slider:I,options:t,to:h+1,from:p+1,diff:k,target:{left:x,top:n},callback:Fa};H(h,e[1]);setTimeout(function(){ja(h,d,f);w.call(m,y)},0)}}}function Ca(){if(ka){var b=fa.stop;b&&(b(),Fa())}}function sa(b,c){J=!c&&!e[13];p=b;y.css({marginTop:L(p,f),marginLeft:L(p,d)});H(p,0);p=G(p);e[30]||z(p);v();J=f;e[27]&&c&&(ma.location.hash=e[19][p]);e[13]&&(c?(w(),e[15]&&(V=s(e[15]))):V=s(e[14]));wa&&
ja(p,f);if(xa!==d){var g=xa;xa=d;t(g,la)}if(e[5]){var h=e[4];P&&(h=0);g=p;B(g,h,d);B(g<u-D,h,f)}P&&!e[31][p]&&(P=d,setTimeout(function(){e[23].call(m)},0))}function G(b){if(0==u)return 0;for(b=parseInt(b,10);0>b;)b+=u;return b%u}function za(){Ca();ia=f;R=p;e[11]&&j(ma).off("resize focus",k);Q&&Q.remove();j(e[2]).off("click");if(E)for(var b=0;b<E.length;b++)E[b].remove();v()}function Aa(){ia&&x(R)}var P,y,A,M,u,p,qa,J,ra,Z,ia,R,Q,$,ba,V,na,W,va,E=d,D,wa=d,ua,K,I=j(this),da=d,ea,Da=0,ka=d,fa,Fa,Ea=
[],xa=d,la,U=b,e=[];m.destroy=za;m.init=Aa;m.getOption=function(b){return U[b.toLowerCase()]};m.setOption=function(b,c){za();U[b.toLowerCase()]=c;Aa()};m.insertSlide=function(b,c,d,f){za();c>u&&(c=u);b="<li>"+b+"</li>";!c||0==c?y.prepend(b):A.eq(c-1).after(b);f?R=f-1:(c<=R||!c||0==c)&&R++;e[19].length<c&&(e[19].length=c);e[19].splice(c,0,d||parseInt(c,10)+1);Aa()};m.removeSlide=function(b){b--;za();A.eq(b).remove();e[19].splice(b,1);b<R&&R--;Aa()};m.goToSlide=function(b){t(b==parseInt(b,10)?b-1:b,
f)};m.block=function(){J=d};m.unblock=function(){J=f};m.startAuto=function(){e[13]=f;V=s(e[14])};m.stopAuto=function(){e[13]=d;w()};m.adjust=function(){H(p,Da-(new Date-0));ka||v()};m.getValue=function(b){b=b.toLowerCase();return"currentslide"==b?p+1:"totalslides"==b?u:"clickable"==b?J:"destroyed"==b?ia:"autoAnimation"==b?va:void 0};m.getSlide=function(b){b=G(parseInt(b,10)-1);return ya(b)};m.stopAnimation=Ca;x()})};var S=Z({boxes:function(b,c){C(b,c,d,d)},boxesGrow:function(b,c){C(b,c,f,d)},boxRain:function(b,
c){C(b,c,d,d,f)},boxRainGrow:function(b,c){C(b,c,f,d,f)},sliceUpDown:function(b,c){z(b,f,c,d,d,0,3)}}),X=Y({push:function(b,c){var d=2==c||4==c,f=2==c||3==c?-1:1,g=b.options,j=g.ease,k=b.fromSlides,h=ca(b);h.prependTo(b.slider);var q;q=h.height();var s=k.height();q=q>s?q:s;s=h.width();k=k.width();g=g.speed;h.css(d?{left:f*(s>k?s:k)}:{top:f*q}).animate({left:0,top:0},g,j,function(){h.remove();b.callback()})},unCover:function(b,c){var d=1==c||3==c,f=b.options,g=f.ease,f=f.speed,j=ca(b),k=j.width(),
h=j.height(),q=da(j,0,0,0,0).css({opacity:1}).appendTo(b.slider);d?(q.css({width:k}),1==c&&(j.css({top:-h}),q.css({bottom:0,top:"auto"}))):(q.css({height:h}),4==c&&(j.css({left:-k}),q.css({right:0,left:"auto"})));j.animate({left:0,top:0},f,g);q.animate({width:k,height:h},f,g,function(){q.remove();b.callback()})},slicesRandom:function(b,c){z(b,1==c||3==c,d,f,d,0,1==c||4==c?1:2)},fold:function(b,c){z(b,2==c||4==c,1==c||4==c)},blinds1:function(b,c){z(b,2==c||4==c,1==c||4==c,d,d,1)},blinds2:function(b,
c){z(b,2==c||4==c,1==c||4==c,d,d,2)},slicesFade:function(b,c){z(b,2==c||4==c,1==c||4==c,d,f)}}),Ma=Z(Y({slice:function(b,c,f){z(b,1==c||3==c,f,d,d,0,1==c||4==c?1:2)}})),la=fa({slide:function(b){var c=b.slider.children("ul"),f=b.options,j=f.ease,f=f.speed*Math.sqrt(0>b.diff?-b.diff:b.diff),g=b.target;c.animate({marginTop:g.top,marginLeft:g.left},{queue:d,duration:f,easing:j,complete:b.callback})},fade:function(b){na(b,b.options.speed)},fadeOutIn:function(b){var c=b.options,f=c.speed,c=c.ease,j=parseInt(0.6*
f,10),g=b.callback;b.callback=function(){b.fromSlides.animate({opacity:1},0);g()};b.fromSlides.animate({opacity:1E-4},{queue:d,duration:f-j,easing:c,complete:function(){na(b,f)}})},foldRandomVertical:function(b){z(b,f,d,f)},foldRandomHorizontal:function(b){z(b,d,d,f)},boxRandom:function(b){C(b,d,d,f)},boxRandomGrow:function(b){C(b,d,f,f)}},X,S,Ma),S=j.fn.sudoSlider,X=fa(la,{random:function(b){return Ha(la)(b)}}),N={};j.each(X,function(b,c){N[b]=function(d){N[b].o=d;c(d)};N[b].stop=function(){var c=
N[b].o.slider;j("."+O,c).remove();c.children("ul").stop()}});S.effects=N})(jQuery,window);